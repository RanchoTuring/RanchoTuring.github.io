<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="MySQL基础知识入门"><meta name="keywords" content="MySQL,入门资料"><meta name="author" content="Rancho Turing"><meta name="copyright" content="Rancho Turing"><title>MySQL基础知识入门 | Rancho's Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8c71b8c5746412ffcaf1e2d2ec72d90e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#21分钟MySQL基础入门"><span class="toc-number">1.</span> <span class="toc-text">21分钟MySQL基础入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#开始使用"><span class="toc-number">1.2.</span> <span class="toc-text">开始使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#登录MySQL"><span class="toc-number">1.2.1.</span> <span class="toc-text">登录MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建数据库"><span class="toc-number">1.2.2.</span> <span class="toc-text">创建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建数据库表"><span class="toc-number">1.2.3.</span> <span class="toc-text">创建数据库表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#增删改查"><span class="toc-number">1.3.</span> <span class="toc-text">增删改查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SELECT"><span class="toc-number">1.3.1.</span> <span class="toc-text">SELECT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UPDATE"><span class="toc-number">1.3.2.</span> <span class="toc-text">UPDATE</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#INSERT"><span class="toc-number">1.3.3.</span> <span class="toc-text">INSERT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DELETE"><span class="toc-number">1.3.4.</span> <span class="toc-text">DELETE</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WHERE"><span class="toc-number">1.4.</span> <span class="toc-text">WHERE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AND-和-OR"><span class="toc-number">1.5.</span> <span class="toc-text">AND 和 OR</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#AND"><span class="toc-number">1.5.1.</span> <span class="toc-text">AND</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OR"><span class="toc-number">1.5.2.</span> <span class="toc-text">OR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ORDER-BY"><span class="toc-number">1.6.</span> <span class="toc-text">ORDER BY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IN"><span class="toc-number">1.7.</span> <span class="toc-text">IN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NOT"><span class="toc-number">1.8.</span> <span class="toc-text">NOT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UNION"><span class="toc-number">1.9.</span> <span class="toc-text">UNION</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AS"><span class="toc-number">1.10.</span> <span class="toc-text">AS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JOIN"><span class="toc-number">1.11.</span> <span class="toc-text">JOIN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL-函数"><span class="toc-number">1.12.</span> <span class="toc-text">SQL 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#COUNT"><span class="toc-number">1.12.1.</span> <span class="toc-text">COUNT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MAX"><span class="toc-number">1.12.2.</span> <span class="toc-text">MAX</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#触发器"><span class="toc-number">1.13.</span> <span class="toc-text">触发器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加索引"><span class="toc-number">1.14.</span> <span class="toc-text">添加索引</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#普通索引-INDEX"><span class="toc-number">1.14.1.</span> <span class="toc-text">普通索引(INDEX)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#主键索引-PRIMARY-key"><span class="toc-number">1.14.2.</span> <span class="toc-text">主键索引(PRIMARY key)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#唯一索引-UNIQUE"><span class="toc-number">1.14.3.</span> <span class="toc-text">唯一索引(UNIQUE)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全文索引-FULLTEXT"><span class="toc-number">1.14.4.</span> <span class="toc-text">全文索引(FULLTEXT)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加多列索引"><span class="toc-number">1.14.5.</span> <span class="toc-text">添加多列索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建立索引的时机"><span class="toc-number">1.14.6.</span> <span class="toc-text">建立索引的时机</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建后表的修改"><span class="toc-number">1.15.</span> <span class="toc-text">创建后表的修改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#添加列"><span class="toc-number">1.15.1.</span> <span class="toc-text">添加列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改列"><span class="toc-number">1.15.2.</span> <span class="toc-text">修改列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除列"><span class="toc-number">1.15.3.</span> <span class="toc-text">删除列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重命名表"><span class="toc-number">1.15.4.</span> <span class="toc-text">重命名表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#清空表数据"><span class="toc-number">1.15.5.</span> <span class="toc-text">清空表数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除整张表"><span class="toc-number">1.15.6.</span> <span class="toc-text">删除整张表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除整个数据库"><span class="toc-number">1.15.7.</span> <span class="toc-text">删除整个数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其它实例"><span class="toc-number">1.16.</span> <span class="toc-text">其它实例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL删除重复记录"><span class="toc-number">1.16.1.</span> <span class="toc-text">SQL删除重复记录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考手册"><span class="toc-number">1.17.</span> <span class="toc-text">参考手册</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Rancho Turing</div><div class="author-info__description text-center">Rancho Turing 's Blog.</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">11</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">16</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">8</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdna.artstation.com/p/assets/images/images/005/217/372/large/sylvain-sarrailh-vendome.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Rancho's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">MySQL基础知识入门</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-05</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/数据库/">数据库</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">4.2k</span><span class="post-meta__separator">|</span><span>阅读时长: 17 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="21分钟MySQL基础入门"><a href="#21分钟MySQL基础入门" class="headerlink" title="21分钟MySQL基础入门"></a>21分钟MySQL基础入门</h1><p>为什么只需要21分钟呢？因为在我们大天朝有句话叫做三七二十一，你可以不管三七二十一开始使用 <code>MySQL</code> 及快速的方式入门 <code>MySQL</code>。其实21分钟把下面语句执行一遍是没有问题的，要理解的话估计不止21分钟，对于初学者来说只需满足自己需求可以增删改查等简易的维护即可。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>[TOC]</p>
<h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><p>我下面所有的SQL语句是基于MySQL 5.6+运行。</p>
<p>MySQL 为关系型数据库(Relational Database Management System)，一个关系型数据库由一个或数个表格组成, 如图所示的一个表格：</p>
<p><a href="https://github.com/jaywcjlove/mysql-tutorial/blob/master/img/data.jpg" target="_blank" rel="noopener"><img src="https://github.com/jaywcjlove/mysql-tutorial/raw/master/img/data.jpg" alt="21分钟MySQL基础入门"></a></p>
<ul>
<li><code>表头(header)</code>: 每一列的名称;</li>
<li><code>列(col)</code>: 具有相同数据类型的数据的集合;</li>
<li><code>行(row)</code>: 每一行用来描述某个人/物的具体信息;</li>
<li><code>值(value)</code>: 行的具体信息, 每个值必须与该列的数据类型相同;</li>
<li><code>键(key)</code>: 表中用来识别某个特定的人\物的方法, 键的值在当前列中具有唯一性。</li>
</ul>
<h3 id="登录MySQL"><a href="#登录MySQL" class="headerlink" title="登录MySQL"></a>登录MySQL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 127.0.0.1 -u 用户名 -p</span><br><span class="line">mysql -D 所选择的数据库名 -h 主机名 -u 用户名 -p</span><br><span class="line">mysql&gt; exit # 退出 使用 “quit;” 或 “\q;” 一样的效果</span><br><span class="line">mysql&gt; status;  # 显示当前mysql的version的各种信息</span><br><span class="line">mysql&gt; select version(); # 显示当前mysql的version信息</span><br><span class="line">mysql&gt; show global variables like &apos;port&apos;; # 查看MySQL端口号</span><br></pre></td></tr></table></figure>
<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><p>对于表的操作需要先进入库<code>use 库名;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 创建一个名为 samp_db 的数据库，数据库字符编码指定为 gbk</span><br><span class="line">create database samp_db character set gbk;</span><br><span class="line">drop database samp_db; -- 删除 库名为samp_db的库</span><br><span class="line">show databases;        -- 显示数据库列表。</span><br><span class="line">use samp_db;     -- 选择创建的数据库samp_db</span><br><span class="line">show tables;     -- 显示samp_db下面所有的表名字</span><br><span class="line">describe 表名;    -- 显示数据表的结构</span><br><span class="line">delete from 表名; -- 清空表中记录</span><br></pre></td></tr></table></figure>
<h3 id="创建数据库表"><a href="#创建数据库表" class="headerlink" title="创建数据库表"></a>创建数据库表</h3><blockquote>
<p>使用 create table 语句可完成对表的创建, create table 的常见形式: 语法：create table 表名称(列声明);</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- 如果数据库中存在user_accounts表，就把它从数据库中drop掉</span><br><span class="line">DROP TABLE IF EXISTS `user_accounts`;</span><br><span class="line">CREATE TABLE `user_accounts` (</span><br><span class="line">  `id`             int(100) unsigned NOT NULL AUTO_INCREMENT primary key,</span><br><span class="line">  `password`       varchar(32)       NOT NULL DEFAULT &apos;&apos; COMMENT &apos;用户密码&apos;,</span><br><span class="line">  `reset_password` tinyint(32)       NOT NULL DEFAULT 0 COMMENT &apos;用户类型：0－不需要重置密码；1-需要重置密码&apos;,</span><br><span class="line">  `mobile`         varchar(20)       NOT NULL DEFAULT &apos;&apos; COMMENT &apos;手机&apos;,</span><br><span class="line">  `create_at`      timestamp(6)      NOT NULL DEFAULT CURRENT_TIMESTAMP(6),</span><br><span class="line">  `update_at`      timestamp(6)      NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),</span><br><span class="line">  -- 创建唯一索引，不允许重复</span><br><span class="line">  UNIQUE INDEX idx_user_mobile(`mobile`)</span><br><span class="line">)</span><br><span class="line">ENGINE=InnoDB DEFAULT CHARSET=utf8</span><br><span class="line">COMMENT=&apos;用户表信息&apos;;</span><br></pre></td></tr></table></figure>
<p>数据类型的属性解释</p>
<ul>
<li><code>NULL</code>：数据列可包含NULL值；</li>
<li><code>NOT NULL</code>：数据列不允许包含NULL值；</li>
<li><code>DEFAULT</code>：默认值；</li>
<li><code>PRIMARY</code>：KEY 主键；</li>
<li><code>AUTO_INCREMENT</code>：自动递增，适用于整数类型；</li>
<li><code>UNSIGNED</code>：是指数值类型只能为正数；</li>
<li><code>CHARACTER SET name</code>：指定一个字符集；</li>
<li><code>COMMENT</code>：对表或者字段说明；</li>
</ul>
<h2 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h2><h3 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h3><blockquote>
<p>SELECT 语句用于从表中选取数据。<br>语法：<code>SELECT 列名称 FROM 表名称</code><br>语法：<code>SELECT * FROM 表名称</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-- 表station取个别名叫s，表station中不包含 字段id=13或者14 的，并且id不等于4的 查询出来，只显示id</span><br><span class="line">SELECT s.id from station s WHERE id in (13,14) and id not in (4);</span><br><span class="line"></span><br><span class="line">-- 从表 Persons 选取 LastName 列的数据</span><br><span class="line">SELECT LastName FROM Persons</span><br><span class="line"></span><br><span class="line">-- 从表 users 选取 id=3 的数据，并只拉一条数据(据说能优化性能)</span><br><span class="line">SELECT * FROM users where id=3 limit 1</span><br><span class="line"></span><br><span class="line">-- 结果集中会自动去重复数据</span><br><span class="line">SELECT DISTINCT Company FROM Orders </span><br><span class="line">-- 表 Persons 字段 Id_P 等于 Orders 字段 Id_P 的值，</span><br><span class="line">-- 结果集显示 Persons表的 LastName、FirstName字段，Orders表的OrderNo字段</span><br><span class="line">SELECT p.LastName, p.FirstName, o.OrderNo FROM Persons p, Orders o WHERE p.Id_P = o.Id_P </span><br><span class="line"></span><br><span class="line">-- gbk 和 utf8 中英文混合排序最简单的办法 </span><br><span class="line">-- ci是 case insensitive, 即 “大小写不敏感”</span><br><span class="line">SELECT tag, COUNT(tag) from news GROUP BY tag order by convert(tag using gbk) collate gbk_chinese_ci;</span><br><span class="line">SELECT tag, COUNT(tag) from news GROUP BY tag order by convert(tag using utf8) collate utf8_unicode_ci;</span><br></pre></td></tr></table></figure>
<h3 id="UPDATE"><a href="#UPDATE" class="headerlink" title="UPDATE"></a>UPDATE</h3><blockquote>
<p>Update 语句用于修改表中的数据。<br>语法：<code>UPDATE 表名称 SET 列名称 = 新值 WHERE 列名称 = 某值</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- update语句设置字段值为另一个结果取出来的字段</span><br><span class="line">update user set name = (select name from user1 where user1 .id = 1 )</span><br><span class="line">where id = (select id from user2 where user2 .name=&apos;小苏&apos;);</span><br><span class="line">-- 更新表 orders 中 id=1 的那一行数据更新它的 title 字段</span><br><span class="line">UPDATE `orders` set title=&apos;这里是标题&apos; WHERE id=1;</span><br></pre></td></tr></table></figure>
<h3 id="INSERT"><a href="#INSERT" class="headerlink" title="INSERT"></a>INSERT</h3><blockquote>
<p>INSERT INTO 语句用于向表格中插入新的行。<br>语法：<code>INSERT INTO 表名称 VALUES (值1, 值2,....)</code><br>语法：<code>INSERT INTO 表名称 (列1, 列2,...) VALUES (值1, 值2,....)</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-- 向表 Persons 插入一条字段 LastName = JSLite 字段 Address = shanghai</span><br><span class="line">INSERT INTO Persons (LastName, Address) VALUES (&apos;JSLite&apos;, &apos;shanghai&apos;);</span><br><span class="line">-- 向表 meeting 插入 字段 a=1 和字段 b=2</span><br><span class="line">INSERT INTO meeting SET a=1,b=2;</span><br><span class="line">-- </span><br><span class="line">-- SQL实现将一个表的数据插入到另外一个表的代码</span><br><span class="line">-- 如果只希望导入指定字段，可以用这种方法：</span><br><span class="line">-- INSERT INTO 目标表 (字段1, 字段2, ...) SELECT 字段1, 字段2, ... FROM 来源表;</span><br><span class="line">INSERT INTO orders (user_account_id, title) SELECT m.user_id, m.title FROM meeting m where m.id=1;</span><br><span class="line"></span><br><span class="line">-- 向表 charger 插入一条数据，已存在就对表 charger 更新 `type`,`update_at` 字段；</span><br><span class="line">INSERT INTO `charger` (`id`,`type`,`create_at`,`update_at`) VALUES (3,2,&apos;2017-05-18 11:06:17&apos;,&apos;2017-05-18 11:06:17&apos;) ON DUPLICATE KEY UPDATE `id`=VALUES(`id`), `type`=VALUES(`type`), `update_at`=VALUES(`update_at`);</span><br></pre></td></tr></table></figure>
<h3 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h3><blockquote>
<p>DELETE 语句用于删除表中的行。<br>语法：<code>DELETE FROM 表名称 WHERE 列名称 = 值</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 在不删除table_name表的情况下删除所有的行，清空表。</span><br><span class="line">DELETE FROM table_name</span><br><span class="line">-- 或者</span><br><span class="line">DELETE * FROM table_name</span><br><span class="line">-- 删除 Person表字段 LastName = &apos;JSLite&apos; </span><br><span class="line">DELETE FROM Person WHERE LastName = &apos;JSLite&apos; </span><br><span class="line">-- 删除 表meeting id 为2和3的两条数据</span><br><span class="line">DELETE from meeting where id in (2,3);</span><br></pre></td></tr></table></figure>
<h2 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h2><blockquote>
<p>WHERE 子句用于规定选择的标准。<br>语法：<code>SELECT 列名称 FROM 表名称 WHERE 列 运算符 值</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 从表 Persons 中选出 Year 字段大于 1965 的数据</span><br><span class="line">SELECT * FROM Persons WHERE Year&gt;1965</span><br></pre></td></tr></table></figure>
<h2 id="AND-和-OR"><a href="#AND-和-OR" class="headerlink" title="AND 和 OR"></a>AND 和 OR</h2><blockquote>
<p>AND - 如果第一个条件和第二个条件都成立；<br>OR - 如果第一个条件和第二个条件中只要有一个成立；</p>
</blockquote>
<h3 id="AND"><a href="#AND" class="headerlink" title="AND"></a>AND</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 删除 meeting 表字段 </span><br><span class="line">-- id=2 并且 user_id=5 的数据  和</span><br><span class="line">-- id=3 并且 user_id=6 的数据 </span><br><span class="line">DELETE from meeting where id in (2,3) and user_id in (5,6);</span><br><span class="line"></span><br><span class="line">-- 使用 AND 来显示所有姓为 &quot;Carter&quot; 并且名为 &quot;Thomas&quot; 的人：</span><br><span class="line">SELECT * FROM Persons WHERE FirstName=&apos;Thomas&apos; AND LastName=&apos;Carter&apos;;</span><br></pre></td></tr></table></figure>
<h3 id="OR"><a href="#OR" class="headerlink" title="OR"></a>OR</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 使用 OR 来显示所有姓为 &quot;Carter&quot; 或者名为 &quot;Thomas&quot; 的人：</span><br><span class="line">SELECT * FROM Persons WHERE firstname=&apos;Thomas&apos; OR lastname=&apos;Carter&apos;</span><br></pre></td></tr></table></figure>
<h2 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h2><blockquote>
<p>语句默认按照升序对记录进行排序。<br><code>ORDER BY</code> - 语句用于根据指定的列对结果集进行排序。<br><code>DESC</code> - 按照降序对记录进行排序。<br><code>ASC</code> - 按照顺序对记录进行排序。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- Company在表Orders中为字母，则会以字母顺序显示公司名称</span><br><span class="line">SELECT Company, OrderNumber FROM Orders ORDER BY Company</span><br><span class="line"></span><br><span class="line">-- 后面跟上 DESC 则为降序显示</span><br><span class="line">SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC</span><br><span class="line"></span><br><span class="line">-- Company以降序显示公司名称，并OrderNumber以顺序显示</span><br><span class="line">SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC, OrderNumber ASC</span><br></pre></td></tr></table></figure>
<h2 id="IN"><a href="#IN" class="headerlink" title="IN"></a>IN</h2><blockquote>
<p>IN - 操作符允许我们在 WHERE 子句中规定多个值。<br>IN - 操作符用来指定范围，范围中的每一条，都进行匹配。IN取值规律，由逗号分割，全部放置括号中。 语法：<code>SELECT &quot;字段名&quot;FROM &quot;表格名&quot;WHERE &quot;字段名&quot; IN (&#39;值一&#39;, &#39;值二&#39;, ...);</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 从表 Persons 选取 字段 LastName 等于 Adams、Carter</span><br><span class="line">SELECT * FROM Persons WHERE LastName IN (&apos;Adams&apos;,&apos;Carter&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="NOT"><a href="#NOT" class="headerlink" title="NOT"></a>NOT</h2><blockquote>
<p>NOT - 操作符总是与其他操作符一起使用，用在要过滤的前面。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT vend_id, prod_name FROM Products WHERE NOT vend_id = &apos;DLL01&apos; ORDER BY prod_name;</span><br></pre></td></tr></table></figure>
<h2 id="UNION"><a href="#UNION" class="headerlink" title="UNION"></a>UNION</h2><blockquote>
<p>UNION - 操作符用于合并两个或多个 SELECT 语句的结果集。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-- 列出所有在中国表（Employees_China）和美国（Employees_USA）的不同的雇员名</span><br><span class="line">SELECT E_Name FROM Employees_China UNION SELECT E_Name FROM Employees_USA</span><br><span class="line"></span><br><span class="line">-- 列出 meeting 表中的 pic_url，</span><br><span class="line">-- station 表中的 number_station 别名设置成 pic_url 避免字段不一样报错</span><br><span class="line">-- 按更新时间排序</span><br><span class="line">SELECT id,pic_url FROM meeting UNION ALL SELECT id,number_station AS pic_url FROM station  ORDER BY update_at;</span><br><span class="line">-- 通过 UNION 语法同时查询了 products 表 和 comments 表的总记录数，并且按照 count 排序</span><br><span class="line">SELECT &apos;product&apos; AS type, count(*) as count FROM `products` union select &apos;comment&apos; as type, count(*) as count FROM `comments` order by count;</span><br></pre></td></tr></table></figure>
<h2 id="AS"><a href="#AS" class="headerlink" title="AS"></a>AS</h2><blockquote>
<p>as - 可理解为：用作、当成，作为；别名<br>一般是重命名列名或者表名。<br>语法：<code>select column_1 as 列1,column_2 as 列2 from table as 表</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Employee AS emp</span><br><span class="line">-- 这句意思是查找所有Employee 表里面的数据，并把Employee表格命名为 emp。</span><br><span class="line">-- 当你命名一个表之后，你可以在下面用 emp 代替 Employee.</span><br><span class="line">-- 例如 SELECT * FROM emp.</span><br><span class="line"></span><br><span class="line">SELECT MAX(OrderPrice) AS LargestOrderPrice FROM Orders</span><br><span class="line">-- 列出表 Orders 字段 OrderPrice 列最大值，</span><br><span class="line">-- 结果集列不显示 OrderPrice 显示 LargestOrderPrice</span><br><span class="line"></span><br><span class="line">-- 显示表 users_profile 中的 name 列</span><br><span class="line">SELECT t.name from (SELECT * from users_profile a) AS t;</span><br><span class="line"></span><br><span class="line">-- 表 user_accounts 命名别名 ua，表 users_profile 命名别名 up</span><br><span class="line">-- 满足条件 表 user_accounts 字段 id 等于 表 users_profile 字段 user_id</span><br><span class="line">-- 结果集只显示mobile、name两列</span><br><span class="line">SELECT ua.mobile,up.name FROM user_accounts as ua INNER JOIN users_profile as up ON ua.id = up.user_id;</span><br></pre></td></tr></table></figure>
<h2 id="JOIN"><a href="#JOIN" class="headerlink" title="JOIN"></a>JOIN</h2><blockquote>
<p>用于根据两个或多个表中的列之间的关系，从这些表中查询数据。</p>
</blockquote>
<ul>
<li><code>JOIN</code>: 如果表中有至少一个匹配，则返回行</li>
<li><code>INNER JOIN</code>:在表中存在至少一个匹配时，INNER JOIN 关键字返回行。</li>
<li><code>LEFT JOIN</code>: 即使右表中没有匹配，也从左表返回所有的行</li>
<li><code>RIGHT JOIN</code>: 即使左表中没有匹配，也从右表返回所有的行</li>
<li><code>FULL JOIN</code>: 只要其中一个表中存在匹配，就返回行(MySQL 是不支持的，通过 <code>LEFT JOIN + UNION + RIGHT JOIN</code> 的方式 来实现)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons</span><br><span class="line">INNER JOIN Orders</span><br><span class="line">ON Persons.Id_P = Orders.Id_P</span><br><span class="line">ORDER BY Persons.LastName;</span><br></pre></td></tr></table></figure>
<h2 id="SQL-函数"><a href="#SQL-函数" class="headerlink" title="SQL 函数"></a>SQL 函数</h2><h3 id="COUNT"><a href="#COUNT" class="headerlink" title="COUNT"></a>COUNT</h3><blockquote>
<p>COUNT 让我们能够数出在表格中有多少笔资料被选出来。<br>语法：<code>SELECT COUNT(&quot;字段名&quot;) FROM &quot;表格名&quot;;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 表 Store_Information 有几笔 store_name 栏不是空白的资料。</span><br><span class="line">-- &quot;IS NOT NULL&quot; 是 &quot;这个栏位不是空白&quot; 的意思。</span><br><span class="line">SELECT COUNT (Store_Name) FROM Store_Information WHERE Store_Name IS NOT NULL; </span><br><span class="line">-- 获取 Persons 表的总数</span><br><span class="line">SELECT COUNT(1) AS totals FROM Persons;</span><br><span class="line">-- 获取表 station 字段 user_id 相同的总数</span><br><span class="line">select user_id, count(*) as totals from station group by user_id;</span><br></pre></td></tr></table></figure>
<h3 id="MAX"><a href="#MAX" class="headerlink" title="MAX"></a>MAX</h3><blockquote>
<p>MAX 函数返回一列中的最大值。NULL 值不包括在计算中。<br>语法：<code>SELECT MAX(&quot;字段名&quot;) FROM &quot;表格名&quot;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-- 列出表 Orders 字段 OrderPrice 列最大值，</span><br><span class="line">-- 结果集列不显示 OrderPrice 显示 LargestOrderPrice</span><br><span class="line">SELECT MAX(OrderPrice) AS LargestOrderPrice FROM Orders</span><br></pre></td></tr></table></figure>
<h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><blockquote>
<p>语法： create trigger &lt;触发器名称&gt; { before | after} # 之前或者之后出发 insert | update | delete # 指明了激活触发程序的语句的类型 on &lt;表名&gt; # 操作哪张表 for each row # 触发器的执行间隔，for each row 通知触发器每隔一行执行一次动作，而不是对整个表执行一次。 &lt;触发器SQL语句&gt;</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line">CREATE TRIGGER set_userdate BEFORE INSERT </span><br><span class="line">on `message`</span><br><span class="line">for EACH ROW</span><br><span class="line">BEGIN</span><br><span class="line">  set @statu = new.status; -- 声明复制变量 statu</span><br><span class="line">  if @statu = 0 then       -- 判断 statu 是否等于 0</span><br><span class="line">    UPDATE `user_accounts` SET status=1 WHERE openid=NEW.openid;</span><br><span class="line">  end if;</span><br><span class="line">END</span><br><span class="line">$</span><br><span class="line">DELIMITER ; -- 恢复结束符号</span><br></pre></td></tr></table></figure>
<p>OLD和NEW不区分大小写</p>
<ul>
<li>NEW 用NEW.col_name，没有旧行。在DELETE触发程序中，仅能使用OLD.col_name，没有新行。</li>
<li>OLD 用OLD.col_name来引用更新前的某一行的列</li>
</ul>
<h2 id="添加索引"><a href="#添加索引" class="headerlink" title="添加索引"></a>添加索引</h2><h3 id="普通索引-INDEX"><a href="#普通索引-INDEX" class="headerlink" title="普通索引(INDEX)"></a>普通索引(INDEX)</h3><blockquote>
<p>语法：ALTER TABLE <code>表名字</code> ADD INDEX 索引名字 ( <code>字段名字</code> )</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- –直接创建索引</span><br><span class="line">CREATE INDEX index_user ON user(title)</span><br><span class="line">-- –修改表结构的方式添加索引</span><br><span class="line">ALTER TABLE table_name ADD INDEX index_name ON (column(length))</span><br><span class="line">-- 给 user 表中的 name 字段 添加普通索引(INDEX)</span><br><span class="line">ALTER TABLE `user` ADD INDEX index_name (name)</span><br><span class="line">-- –创建表的时候同时创建索引</span><br><span class="line">CREATE TABLE `user` (</span><br><span class="line">    `id` int(11) NOT NULL AUTO_INCREMENT ,</span><br><span class="line">    `title` char(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ,</span><br><span class="line">    `content` text CHARACTER SET utf8 COLLATE utf8_general_ci NULL ,</span><br><span class="line">    `time` int(10) NULL DEFAULT NULL ,</span><br><span class="line">    PRIMARY KEY (`id`),</span><br><span class="line">    INDEX index_name (title(length))</span><br><span class="line">)</span><br><span class="line">-- –删除索引</span><br><span class="line">DROP INDEX index_name ON table</span><br></pre></td></tr></table></figure>
<h3 id="主键索引-PRIMARY-key"><a href="#主键索引-PRIMARY-key" class="headerlink" title="主键索引(PRIMARY key)"></a>主键索引(PRIMARY key)</h3><blockquote>
<p>语法：ALTER TABLE <code>表名字</code> ADD PRIMARY KEY ( <code>字段名字</code> )</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 id字段 添加主键索引(PRIMARY key)</span><br><span class="line">ALTER TABLE `user` ADD PRIMARY key (id);</span><br></pre></td></tr></table></figure>
<h3 id="唯一索引-UNIQUE"><a href="#唯一索引-UNIQUE" class="headerlink" title="唯一索引(UNIQUE)"></a>唯一索引(UNIQUE)</h3><blockquote>
<p>语法：ALTER TABLE <code>表名字</code> ADD UNIQUE (<code>字段名字</code>)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 creattime 字段添加唯一索引(UNIQUE)</span><br><span class="line">ALTER TABLE `user` ADD UNIQUE (creattime);</span><br></pre></td></tr></table></figure>
<h3 id="全文索引-FULLTEXT"><a href="#全文索引-FULLTEXT" class="headerlink" title="全文索引(FULLTEXT)"></a>全文索引(FULLTEXT)</h3><blockquote>
<p>语法：ALTER TABLE <code>表名字</code> ADD FULLTEXT (<code>字段名字</code>)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 description 字段添加全文索引(FULLTEXT)</span><br><span class="line">ALTER TABLE `user` ADD FULLTEXT (description);</span><br></pre></td></tr></table></figure>
<h3 id="添加多列索引"><a href="#添加多列索引" class="headerlink" title="添加多列索引"></a>添加多列索引</h3><blockquote>
<p>语法： ALTER TABLE <code>table_name</code> ADD INDEX index_name ( <code>column1</code>, <code>column2</code>, <code>column3</code>)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 给 user 表中的 name、city、age 字段添加名字为name_city_age的普通索引(INDEX)</span><br><span class="line">ALTER TABLE user ADD INDEX name_city_age (name(10),city,age);</span><br></pre></td></tr></table></figure>
<h3 id="建立索引的时机"><a href="#建立索引的时机" class="headerlink" title="建立索引的时机"></a>建立索引的时机</h3><p>在<code>WHERE</code>和<code>JOIN</code>中出现的列需要建立索引，但也不完全如此：</p>
<ul>
<li>MySQL只对<code>&lt;</code>，<code>&lt;=</code>，<code>=</code>，<code>&gt;</code>，<code>&gt;=</code>，<code>BETWEEN</code>，<code>IN</code>使用索引</li>
<li>某些时候的<code>LIKE</code>也会使用索引。</li>
<li>在<code>LIKE</code>以通配符%和_开头作查询时，MySQL不会使用索引。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- 此时就需要对city和age建立索引，</span><br><span class="line">-- 由于mytable表的userame也出现在了JOIN子句中，也有对它建立索引的必要。</span><br><span class="line">SELECT t.Name  </span><br><span class="line">FROM mytable t LEFT JOIN mytable m ON t.Name=m.username </span><br><span class="line">WHERE m.age=20 AND m.city=&apos;上海&apos;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM mytable WHERE username like&apos;admin%&apos;; -- 而下句就不会使用：</span><br><span class="line">SELECT * FROM mytable WHERE Name like&apos;%admin&apos;; -- 因此，在使用LIKE时应注意以上的区别。</span><br></pre></td></tr></table></figure>
<p>索引的注意事项</p>
<ul>
<li>索引不会包含有NULL值的列</li>
<li>使用短索引</li>
<li>不要在列上进行运算 索引会失效</li>
</ul>
<h2 id="创建后表的修改"><a href="#创建后表的修改" class="headerlink" title="创建后表的修改"></a>创建后表的修改</h2><h3 id="添加列"><a href="#添加列" class="headerlink" title="添加列"></a>添加列</h3><blockquote>
<p>语法：<code>alter table 表名 add 列名 列数据类型 [after 插入位置];</code></p>
</blockquote>
<p>示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 在表students的最后追加列 address: </span><br><span class="line">alter table students add address char(60);</span><br><span class="line">-- 在名为 age 的列后插入列 birthday: </span><br><span class="line">alter table students add birthday date after age;</span><br><span class="line">-- 在名为 number_people 的列后插入列 weeks: </span><br><span class="line">alter table students add column `weeks` varchar(5) not null default &quot;&quot; after `number_people`;</span><br></pre></td></tr></table></figure>
<h3 id="修改列"><a href="#修改列" class="headerlink" title="修改列"></a>修改列</h3><blockquote>
<p>语法：<code>alter table 表名 change 列名称 列新名称 新数据类型;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- 将表 tel 列改名为 telphone: </span><br><span class="line">alter table students change tel telphone char(13) default &quot;-&quot;;</span><br><span class="line">-- 将 name 列的数据类型改为 char(16): </span><br><span class="line">alter table students change name name char(16) not null;</span><br><span class="line">-- 修改 COMMENT 前面必须得有类型属性</span><br><span class="line">alter table students change name name char(16) COMMENT &apos;这里是名字&apos;;</span><br><span class="line">-- 修改列属性的时候 建议使用modify,不需要重建表</span><br><span class="line">-- change用于修改列名字，这个需要重建表</span><br><span class="line">alter table meeting modify `weeks` varchar(20) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;开放日期 周一到周日：0~6，间隔用英文逗号隔开&apos;;</span><br><span class="line">-- `user`表的`id`列，修改成字符串类型长度50，不能为空，`FIRST`放在第一列的位置</span><br><span class="line">alter table `user` modify COLUMN `id` varchar(50) NOT NULL FIRST ;</span><br></pre></td></tr></table></figure>
<h3 id="删除列"><a href="#删除列" class="headerlink" title="删除列"></a>删除列</h3><blockquote>
<p>语法：<code>alter table 表名 drop 列名称;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除表students中的 birthday 列: </span><br><span class="line">alter table students drop birthday;</span><br></pre></td></tr></table></figure>
<h3 id="重命名表"><a href="#重命名表" class="headerlink" title="重命名表"></a>重命名表</h3><blockquote>
<p>语法：<code>alter table 表名 rename 新表名;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 重命名 students 表为 workmates: </span><br><span class="line">alter table students rename workmates;</span><br></pre></td></tr></table></figure>
<h3 id="清空表数据"><a href="#清空表数据" class="headerlink" title="清空表数据"></a>清空表数据</h3><blockquote>
<p>方法一：<code>delete from 表名;</code> 方法二：<code>truncate from &quot;表名&quot;;</code></p>
</blockquote>
<ul>
<li><code>DELETE:</code>1. DML语言;2. 可以回退;3. 可以有条件的删除;</li>
<li><code>TRUNCATE:</code>1. DDL语言;2. 无法回退;3. 默认所有的表内容都删除;4. 删除速度比delete快。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- 清空表为 workmates 里面的数据，不删除表。 </span><br><span class="line">delete from workmates;</span><br><span class="line">-- 删除workmates表中的所有数据，且无法恢复</span><br><span class="line">truncate table workmates;</span><br></pre></td></tr></table></figure>
<h3 id="删除整张表"><a href="#删除整张表" class="headerlink" title="删除整张表"></a>删除整张表</h3><blockquote>
<p>语法：<code>drop table 表名;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除 workmates 表: </span><br><span class="line">drop table workmates;</span><br></pre></td></tr></table></figure>
<h3 id="删除整个数据库"><a href="#删除整个数据库" class="headerlink" title="删除整个数据库"></a>删除整个数据库</h3><blockquote>
<p>语法：<code>drop database 数据库名;</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 删除 samp_db 数据库: </span><br><span class="line">drop database samp_db;</span><br></pre></td></tr></table></figure>
<h2 id="其它实例"><a href="#其它实例" class="headerlink" title="其它实例"></a>其它实例</h2><h3 id="SQL删除重复记录"><a href="#SQL删除重复记录" class="headerlink" title="SQL删除重复记录"></a>SQL删除重复记录</h3><p><a href="http://www.xiangguo.li/sql_and_nosql/2015/01/01/sql" target="_blank" rel="noopener">转载</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-- 查找表中多余的重复记录，重复记录是根据单个字段（peopleId）来判断</span><br><span class="line">select * from people where peopleId in (select peopleId from people group by peopleId having count(peopleId) &gt; 1)</span><br><span class="line">-- 删除表中多余的重复记录，重复记录是根据单个字段（peopleId）来判断，只留有rowid最小的记录</span><br><span class="line">delete from people </span><br><span class="line">where peopleId in (select peopleId from people group by peopleId having count(peopleId) &gt; 1)</span><br><span class="line">and rowid not in (select min(rowid) from people group by peopleId having count(peopleId )&gt;1)</span><br><span class="line">-- 查找表中多余的重复记录（多个字段）</span><br><span class="line">select * from vitae a</span><br><span class="line">where (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count(*) &gt; 1)</span><br><span class="line">-- 删除表中多余的重复记录（多个字段），只留有rowid最小的记录</span><br><span class="line">delete from vitae a</span><br><span class="line">where (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count(*) &gt; 1) and rowid not in (select min(rowid) from vitae group by peopleId,seq having count(*)&gt;1)</span><br><span class="line">-- 查找表中多余的重复记录（多个字段），不包含rowid最小的记录</span><br><span class="line">select * from vitae a</span><br><span class="line">where (a.peopleId,a.seq) in (select peopleId,seq from vitae group by peopleId,seq having count(*) &gt; 1) and rowid not in (select min(rowid) from vitae group by peopleId,seq having count(*)&gt;1)</span><br></pre></td></tr></table></figure>
<h2 id="参考手册"><a href="#参考手册" class="headerlink" title="参考手册"></a>参考手册</h2><ul>
<li><a href="http://www.w3school.com.cn/sql/index.asp" target="_blank" rel="noopener">http://www.w3school.com.cn/sql/index.asp</a></li>
<li><a href="http://www.1keydata.com/cn/sql/sql-count.php" target="_blank" rel="noopener">http://www.1keydata.com/cn/sql/sql-count.php</a></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Rancho Turing</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://RanchoTuring.github.io/2019/05/05/MySQL基础入门/">http://RanchoTuring.github.io/2019/05/05/MySQL基础入门/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://RanchoTuring.github.io">Rancho's Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/入门资料/">入门资料</a></div><div class="social-share"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/05/19/汇编语言知识点速查表/"><i class="fa fa-chevron-left">  </i><span>汇编语言知识点速查表</span></a></div><div class="next-post pull-right"><a href="/2019/04/11/排序算法/"><span>十大排序算法比较</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://cdna.artstation.com/p/assets/images/images/005/217/372/large/sylvain-sarrailh-vendome.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 By Rancho Turing</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://ranchoturing.com">blog</a>!</div><div class="icp"><a href="http://beian.miit.gov.cn"><span>京ICP备19048096号</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">站内搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章及内容"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>